<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <!-- This is for yearly calender template -->
    <template id="yearly_calendar_template">
        <div class="col">

            <style>
                .fc-view-harness{
                height:600px !important;
                }
            </style>
            <div class="right-container" id="calendar_integration"
                style="flex:10;margin-top:20px;">
                <div style="height:5px; background-color:orange;"></div>
                <div style="display:flex; justify-content:end; margin-top:15px;">
                    <button class="btn" id="yearView"
                        style="background-color:#06012b; color:white;">year</button>
                    <button class="btn" id="monthView"
                        style="background-color:#06012b; color:white;">month</button>
                    <button class="btn" id="weekView"
                        style="background-color:#06012b; color:white;">week</button>
                </div>
                <div id="calendar"/>
            </div>
        </div>

    </template>

    <!-- FOr Leave Request -->
    <template id="leave_template">
        <html lang="en">
            <head>
                <link
                    href="https://nepalidatepicker.sajanmaharjan.com.np/nepali.datepicker/css/nepali.datepicker.v4.0.1.min.css"
                    rel="stylesheet" type="text/css" />
                <link rel="stylesheet"
                    href="employee_dashboard/static/src/css/leave_template.scss" />
                <script
                    src="https://nepalidatepicker.sajanmaharjan.com.np/nepali.datepicker/js/nepali.datepicker.v4.0.1.min.js"
                    type="text/javascript"></script>
                <script>
                    document.addEventListener("DOMContentLoaded", function(){
                    var bsDate= NepaliFunctions.GetCurrentBsDate()
                    console.log(bsDate)
                    var parsed=NepaliFunctions.ConvertDateFormat(bsDate, "YYYY-MM-DD")
                    var date_for_half_leave_bs=document.getElementById("date_for_half_leave_bs")
                    var date_for_half_leave=document.getElementById("date_for_half_leave")
                    date_for_half_leave.min=new Date().toISOString().split('T')[0];
                    var start_date_in_BS=document.getElementById("start-date-bs");
                    var start_date=document.getElementById("start-date-ad");
                    start_date.min=new Date().toISOString().split('T')[0];
                    var end_date=document.getElementById("end-date-ad");
                    end_date.min=new Date().toISOString().split('T')[0];
                    var end_date_in_BS=document.getElementById("end-date-bs");
                    start_date.addEventListener("input", updateStartInAd);
                    end_date.addEventListener("input", updateEndInAd);
                    date_for_half_leave.addEventListener("input",updateHalfDayAd);
                    start_date_in_BS.nepaliDatePicker({
                    disableBefore: parsed,
                    onChange: function () {
                    startBsToAdConvert();
                    }
                    });
                    end_date_in_BS.nepaliDatePicker({
                    disableBefore: parsed,
                    onChange:function(){
                    endBsToAdConvert();
                    }
                    });
                    date_for_half_leave_bs.nepaliDatePicker({
                    disableBefore: parsed,
                    onChange:function(){
                    BsToAdConvert();
                    }
                    });

                    function startBsToAdConvert(){
                    var full_day_start_date_bs_error= document.querySelector(".full_day_start_date_bs_error");
                    full_day_start_date_bs_error.style.display="none";
                    var full_day_start_date_ad_error= document.querySelector(".full_day_start_date_ad_error");
                    full_day_start_date_ad_error.style.display="none";
                    var
                    parsed_start_nepali_date=NepaliFunctions.ConvertToDateObject(start_date_in_BS.value,
                    "YYYY-MM-DD")
                    var start_nd=NepaliFunctions.BS2AD(parsed_start_nepali_date)
                    start_date.value=NepaliFunctions.ConvertDateFormat(start_nd, "YYYY-MM-DD")
                    }
                    function updateStartInAd(){
                    if(start_date.value){
                    var
                    parsed_start_english_date=NepaliFunctions.ConvertToDateObject(start_date.value,
                    "YYYY-MM-DD")
                    var start_d=NepaliFunctions.AD2BS(parsed_start_english_date)
                    start_date_in_BS.value=NepaliFunctions.ConvertDateFormat(start_d, "YYYY-MM-DD")
                    }
                    }
                    function updateHalfDayAd(){
                    if(date_for_half_leave.value){
                    var
                    parsed_half_english_date=NepaliFunctions.ConvertToDateObject(date_for_half_leave.value,
                    "YYYY-MM-DD")
                    var half_d=NepaliFunctions.AD2BS(parsed_half_english_date)
                    date_for_half_leave_bs.value=NepaliFunctions.ConvertDateFormat(half_d,
                    "YYYY-MM-DD")
                    }
                    }
                    function updateEndInAd(){
                    if(end_date.value){
                    var parsed_end_english_date=NepaliFunctions.ConvertToDateObject(end_date.value,
                    "YYYY-MM-DD")
                    var end_d=NepaliFunctions.AD2BS(parsed_end_english_date)
                    end_date_in_BS.value=NepaliFunctions.ConvertDateFormat(end_d, "YYYY-MM-DD")
                    }
                    }
                    function endBsToAdConvert(){
                     var full_day_end_date_bs_error= document.querySelector(".full_day_end_date_bs_error");
                    full_day_end_date_bs_error.style.display="none";
                       var full_day_end_date_ad_error=document.querySelector(".full_day_end_date_ad_error");
                    full_day_end_date_ad_error.style.display="none";
                    var
                    parsed_end_nepali_date=NepaliFunctions.ConvertToDateObject(end_date_in_BS.value,
                    "YYYY-MM-DD")
                    var end_nd=NepaliFunctions.BS2AD(parsed_end_nepali_date)
                    end_date.value=NepaliFunctions.ConvertDateFormat(end_nd, "YYYY-MM-DD")
                    }

                    function BsToAdConvert(){
                    var half_day_date_bs_error= document.querySelector(".half_day_date_bs_error");
                    half_day_date_bs_error.style.display="none";
                       var half_day_date_ad_error= document.querySelector(".half_day_date_ad_error");
                    half_day_date_ad_error.style.display="none";
                    var
                    parsed_nepali_date=NepaliFunctions.ConvertToDateObject(date_for_half_leave_bs.value,
                    "YYYY-MM-DD")
                    var nd=NepaliFunctions.BS2AD(parsed_nepali_date)
                    date_for_half_leave.value=NepaliFunctions.ConvertDateFormat(nd, "YYYY-MM-DD")
                    }
                    })
                </script>
            </head>
            <body>
                <div class="oe_leave_request">
                    <h1>
                        Leave Request
                    </h1>
                    <form onsubmit="return checkForValidation()" action="/submit/leaveRequest"
                        method="post" enctype="multipart/form-data">
                        <div class="oe_leave_request_row">
                            <label for="employee-name">Employee:</label>
                            <input type="text" id="employee-name" required="True"
                                name="employee-name" t-att-value="request.env.user.name"
                                readonly="true" />
                        </div>
                        <div class="oe_leave_request_row">
                            <label for="department">Department:</label>
                            <t t-if="department">
                                <input type="text" id="department" name="department"
                                    t-att-value="department" readonly="true" />
                            </t>
                            <t t-else="">
                                <input type="text" id="department" name="department"
                                    value="Department Not found" readonly="true" />
                            </t>
                        </div>
                        <div class="oe_leave_request_row">
                            <label for="leave-type">Leave Type:</label>
                            <div style="display:flex;flex-direction:column;width:100%">
                            <span class="leave_type_error"
                                style="color:red;font-size:x-small;font-weight:700;display:none;">*Select
                                the Leave Type</span>

                            <select name="leave-type" id="leave-type"
                                style="padding:5px;border-radius:12px;" onchange="changeSelect()">
                                <option value="">Select Leave Type</option>
                                <t t-foreach="leave_type" t-as="ll">
                                    <option t-out="ll['name']" t-att-value="ll['id']" />
                                </t>
                            </select>

                            </div>
                        </div>
                        <div class="duration-type"
                            style="padding-top:12px;display:flex;gap:10px;padding-bottom:18px;">
                            <label>Duration Type</label>
                            <input type="radio" id="full-day" name="duration_type" value="full-day"
                                checked="true" style="margin-left:18px;" />
                            <label for="full-day">Full Day</label>

                            <input type="radio" id="half-day" name="duration_type" value="half-day" />
                            <label for="half-day">Half Day</label>
                        </div>
                        <div class="half-day-container">
                            <div class="oe_leave_request_row " style="margin-top:10px">
                                <label for="date_for_half_leave_bs">Date:(B.S)</label>
                                <div style="display:flex;flex-direction:column;width:100%">

                                <span class="half_day_date_bs_error"
                                    style="color:red;font-size:x-small;font-weight:700;display:none;">*Enter
                                    date</span>

                                <input id="date_for_half_leave_bs" name="date_for_half_leave_bs"
                                    placeholder="Date in BS" onchange="changeDateInBs" />
                                </div>

                            </div>
                            <div class="oe_leave_request_row">
                                <label for="date_for_half_leave">Date:(A.D)</label>
                                <div style="display:flex;flex-direction:column;width:100%">
                                <span class="half_day_date_ad_error"
                                    style="color:red;font-size:x-small;font-weight:700;display:none;">*Enter
                                    date</span>
                                <input type="date" id="date_for_half_leave"
                                    name="date_for_half_leave" onchange="changeDateInAd()" />
                                </div>
                            </div>
                            <div class="oe_leave_request_row" id="oe_half_day_duration_start"
                                style="margin-top:10px">
                                <label for="half-day-duration">Start Time</label>
                                <div style="display:flex;flex-direction:column;width:100%">

                                <span class="half_day_start_time_error"
                                    style="color:red;font-size:x-small;font-weight:700;display:none;">*Enter
                                    time</span>
                                <input id="half-day-duration_start"  type="time"  name="start_time"
                                    placeholder="Enter Duration" onchange="changeStartTime()" />
                                </div>
                            </div>

                            <div class="oe_leave_request_row" id="oe_half_day_duration_end"
                                style="margin-top:10px">
                                <label for="half-day-duration">End Time</label>
                                <div style="display:flex;flex-direction:column;width:100%">
                                <span class="half_day_end_time_error"
                                    style="color:red;font-size:x-small;font-weight:700;display:none;">*Enter
                                    time</span>
                                <input id="half-day-duration_end" type="time" name="end_time"
                                    placeholder="Enter Duration" onchange="changeEndTime()" />

                                </div>
                            </div>
                        </div>
                        <div class="date-container-full-day">

                            <div class="oe_leave_request_row " style="margin-top:10px;">
                                <label for="start-date">Start Date:(B.S)</label>
                                <div style="display:flex;flex-direction:column;width:100%">
                                <span class="full_day_start_date_bs_error"
                                    style="color:red;font-size:x-small;font-weight:700;display:none;">*Enter
                                    date</span>
                                <input id="start-date-bs" name="start-date-bs"
                                    placeholder="Date in BS" onchange="startdateChange()" />
                                </div>
                            </div>
                            <div class="oe_leave_request_row">
                                <label for="end-date">End Date:(B.S)</label>
                                <div style="display:flex;flex-direction:column;width:100%">

                                <span class="full_day_end_date_bs_error"
                                    style="color:red;font-size:x-small;font-weight:700;display:none;">*Enter
                                    date</span>
                                <input id="end-date-bs" name="end-date-bs" placeholder="Date in BS"
                                    onchange="enddateChange()" />
                                </div>
                            </div>
                            <div class="oe_leave_request_row">
                                <label for="start-date">Start Date:(A.D)</label>
                                <div style="display:flex;flex-direction:column;width:100%">

                                <span class="full_day_start_date_ad_error"
                                    style="color:red;font-size:x-small;font-weight:700;display:none;">*Enter
                                    date</span>
                                <input type="date" id="start-date-ad" name="start-date"
                                    onchange="startdateAdChange()" />
                                </div>
                            </div>
                            <div class="oe_leave_request_row">
                                <label for="end-date">End Date:(A.D)</label>
                                <div style="display:flex;flex-direction:column;width:100%">
                                <span class="full_day_end_date_ad_error"
                                    style="color:red;font-size:x-small;font-weight:700;display:none;">*Enter
                                    date</span>
                                <input type="date" id="end-date-ad" name="end-date"
                                    onchange="enddateADChange()" />
                                </div>
                            </div>
                        </div>
                        <div class="oe_leave_request_row">
                            <label for="proofForLeave" class="form-label">Supporting Document</label>
                            <input type="file" class="form-control" name="proofForLeave" />
                        </div>
                        <div class="oe_leave_request_row oe_leave_request_row_reason">
                            <label for="reason">Reason for Leave:</label>
                            <div style="display:flex;flex-direction:column;width:100%">

                            <span class="reason_error"
                                style="color:red;font-size:x-small;font-weight:700;display:none;">*Provide
                                the reason</span>
                            <textarea name="reason" id="reason" rows="10" onchange="reasonChange()" />
                            </div>
                        </div>
                        <button type="submit" class="oe_leave_request_submit">Submit Request</button>
                    </form>
                </div>
                <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
                <script src="/employee_dashboard/static/src/js/test.js" type="text/javascript" />
                <script> checkForValidation=()=>{
                    console.log("called")
                    var noerror=true
                    var fullDay = document.querySelector('#full-day');
                    var halfDay = document.querySelector('#half-day');
                    var leave_type_error= document.querySelector(".leave_type_error");
                    var half_day_date_bs_error=document.querySelector(".half_day_date_bs_error");
                    var half_day_date_ad_error=document.querySelector(".half_day_date_ad_error");
                    var half_day_start_time_error=document.querySelector(".half_day_start_time_error");
                    var half_day_end_time_error= document.querySelector(".half_day_end_time_error");
                    var full_day_start_date_bs_error=document.querySelector(".full_day_start_date_bs_error");
                    var full_day_end_date_bs_error= document.querySelector(".full_day_end_date_bs_error");
                    var full_day_start_date_ad_error= document.querySelector(".full_day_start_date_ad_error");
                    var full_day_end_date_ad_error=document.querySelector(".full_day_end_date_ad_error");
                    half_day_date_bs_error.style.display="none";
                    full_day_start_date_bs_error.style.display="none";
                    full_day_end_date_bs_error.style.display="none";
                    var reason_error=document.querySelector(".reason_error");
                    var start_date_bs= document.querySelector("#start-date-bs");
                    var end_date_bs= document.querySelector("#end-date-bs");
                    var start_date_ad= document.querySelector("#start-date-ad");
                    var end_date_ad= document.querySelector("#end-date-ad");
                    var half_day_duration_start= document.querySelector("#half-day-duration_start");
                    var half_day_duration=document.querySelector("#half-day-duration_end");
                    var date_for_half_leave=document.querySelector("#date_for_half_leave");
                    var date_for_half_leave_bs=document.querySelector("#date_for_half_leave_bs");
                    var select= document.querySelector("#leave-type");
                    var reason=document.querySelector("#reason");
                    if(fullDay.checked){
                    half_day_duration_start.innerHTML=''
                    half_day_duration.innerHTML=''
                    date_for_half_leave.innerHTML=''
                    date_for_half_leave_bs.innerHTML=''
                    console.log("it ischecked");
                    console.log(select);
                    if(select.value===''){
                    leave_type_error.style.display="block";
                    noerror=false
                    }
                    if(start_date_bs.value===''){
                    full_day_start_date_bs_error.style.display="block";
                    noerror=false
                    }
                    if(end_date_bs.value===''){
                    full_day_end_date_bs_error.style.display="block";
                    noerror=false
                    }
                    if(start_date_ad.value===''){
                    full_day_start_date_ad_error.style.display="block";
                    noerror=false
                    }
                    if(end_date_ad.value===''){
                    full_day_end_date_ad_error.style.display="block";
                    noerror=false
                    }
                    if(reason.value===''){
                    reason_error.style.display="block";
                    noerror=false
                    }
                    }
                    else if(halfDay.checked){
                    start_date_bs.innerHTML='';
                    start_date_ad.innerHTML='';
                    end_date_bs.innerHTML='';
                    end_date_ad.innerHTML='';
                    console.log("half day ");
                    if(select.value===''){
                    leave_type_error.style.display="block";
                    noerror=false
                    }
                    if(date_for_half_leave_bs.value===''){
                    half_day_date_bs_error.style.display="block";
                    noerror=false
                     }
                    if(date_for_half_leave.value===''){
                    half_day_date_ad_error.style.display="block";
                    noerror=false
                    }
                    if(half_day_duration_start.value===''){
                    half_day_start_time_error.style.display="block";
                    noerror=false
                    }
                    if(half_day_duration.value===''){
                    half_day_end_time_error.style.display="block";
                    noerror=false
                    }
                    if(half_day_duration_start.value > half_day_duration.value){
                    half_day_start_time_error.innerHTML="*Start time is greater then end time"
                    half_day_start_time_error.style.display="block";
                    half_day_end_time_error.innerHTML="*Start time is greater then end time"
                    half_day_end_time_error.style.display="block";
                    console.log("start and end mismatch")
                    noerror=false
                    }
                    if(reason.value===''){
                    reason_error.style.display="block";
                    noerror=false
                    }
                    }
                    return noerror
                    }
                    changeSelect=()=>{
                    var leave_type_error=document.querySelector(".leave_type_error");
                    leave_type_error.style.display="none";
                    }
                    changeDateInBs=()=>{
                    var half_day_date_bs_error= document.querySelector(".half_day_date_bs_error");
                    half_day_date_bs_error.style.display="none";
                    }
                    changeDateInAd=()=>{
                    var half_day_date_ad_error= document.querySelector(".half_day_date_ad_error");
                    half_day_date_ad_error.style.display="none";
                    }
                    changeStartTime=()=>{
                    var half_day_start_time_error= document.querySelector(".half_day_start_time_error");
                    half_day_start_time_error.style.display="none";
                    var half_day_end_time_error= document.querySelector(".half_day_end_time_error");
                    half_day_end_time_error.style.display="none";
                    }
                    changeEndTime=()=>{
                    var half_day_start_time_error= document.querySelector(".half_day_start_time_error");
                    half_day_start_time_error.style.display="none";
                    var half_day_end_time_error= document.querySelector(".half_day_end_time_error");
                    half_day_end_time_error.style.display="none";
                    }
                    startdateChange=()=>{
                    var full_day_start_date_bs_error= document.querySelector(".full_day_start_date_bs_error");
                    full_day_start_date_bs_error.style.display="none";
                    }
                    enddateChange=()=>{
                    var full_day_end_date_bs_error= document.querySelector(".full_day_end_date_bs_error");
                    full_day_end_date_bs_error.style.display="none";
                    }
                    startdateAdChange=()=>{
                    var full_day_start_date_ad_error= document.querySelector(".full_day_start_date_ad_error");
                    full_day_start_date_ad_error.style.display="none";
                    }
                    enddateADChange=()=>{
                    var full_day_end_date_ad_error=document.querySelector(".full_day_end_date_ad_error");
                    full_day_end_date_ad_error.style.display="none";
                    }
                    reasonChange=()=>{
                    var reason_error= document.querySelector(".reason_error");
                    reason_error.style.display="none";
                    }
                </script>
            </body>
        </html>
    </template>

    <!-- this below is for the user profile template -->

    <template id="user_profile_view_template">
        <link rel="stylesheet" href="/employee_dashboard/static/src/css/user_profile.css" />
        <!--for
        user profile view-->

        <form method="post" action="/submit/edit_profile" enctype="multipart/form-data">

            <div class="profile_container container rounded bg-white  mb-5" style="max-width:100%;">
                <div class="row">
                    <div class="col-md-3 border-right">
                        <div class="d-flex flex-column align-items-center text-center p-3 py-5">
                            <div class="position-relative d-flex flex-column align-items-center">
                                <img class="image_tag rounded-circle mt-5" width="150px"
                                    height="150px;"
                                    t-attf-src="data:image/*;base64,{{employee.image_1920}}"
                                    alt="/employee_dashboard/static/description/images.jpeg" />
                                <label for="editImageInput"
                                    class="edit-icon position-absolute bottom-0" title="Edit Image"
                                    style="cursor:pointer; display:none;">
                                    <svg xmlns="http://www.w3.org/2000/svg" height="26" width="26"
                                        viewBox="0 0 512 512"><!--!Font
                                        Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com
                                        License - https://fontawesome.com/license/free Copyright
                                        2023 Fonticons, Inc.-->
                                        <path
                                            d="M149.1 64.8L138.7 96H64C28.7 96 0 124.7 0 160V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V160c0-35.3-28.7-64-64-64H373.3L362.9 64.8C356.4 45.2 338.1 32 317.4 32H194.6c-20.7 0-39 13.2-45.5 32.8zM256 192a96 96 0 1 1 0 192 96 96 0 1 1 0-192z" />
                                    </svg>
                                </label>
                                <input type="file" name="editImageInput" id="editImageInput"
                                    accept="image/*" class="visually-hidden"
                                    style="position: absolute; bottom: 0; left: 0; cursor: pointer;" />
                            </div>
                            <span class="font-weight-bold" t-esc="employee.name" />
                            <span class="text-black-50" t-esc="employee.private_email" />
                        </div>
                    </div>
                    <div class="col-md-5 border-right">
                        <div class="p-3 py-5" style="font-size:20px;">
                            <div class="d-flex justify-content-between align-items-center mb-3">
                                <h4 class="text-right">Profile Settings</h4>
                            </div>
                            <div class="row mt-2">
                                <div class="col-md-6 ">
                                    <label class="labels">Name</label>
                                    <input type="text" class="form-control" name="employee_name"
                                        t-att-value="employee.name" readonly="1" />
                                </div>
                                <div class="col-md-6">
                                    <label class="labels">Department</label>
                                    <input type="text" class="form-control" name="department"
                                        t-att-value="employee.department_id.name" readonly="1" />

                                </div>
                            </div>
                            <div class="row mt-2">
                                <div class="col-md-12 ">
                                    <label class="labels">Street</label>
                                    <input type="text" name="street" class="form-control street"
                                        t-att-value="employee.address_home_id.street" readonly="1" />
                                </div>
                                <div class="col-md-6">
                                    <label class="labels">City</label>
                                    <input type="text" name="city" class="form-control city"
                                        t-att-value="employee.address_home_id.city" readonly="1" />
                                </div>
                                <div class="col-md-6">
                                    <label class="labels">Zip</label>
                                    <input type="text" name="zip" class="form-control zip"
                                        t-att-value="employee.address_home_id.zip" readonly="1" />
                                </div>

                            </div>
                            <div class="row mt-3">
                                <div class="col-md-12">
                                    <label class="labels">Email</label>
                                    <input type="text" name="email" class="form-control email"
                                        t-att-value="employee.private_email" readonly="1" />
                                </div>
                                <div class="col-md-12">
                                    <label class="labels">Mobile Number</label>
                                    <input type="text" name="mobile" class="form-control mobile"
                                        t-att-value="employee.address_home_id.mobile" readonly="1" />
                                </div>
                                <div class="col-md-12">
                                    <label class="labels">Phone</label>
                                    <input name="phone" type="text" class="form-control phone"
                                        readonly="1" />
                                </div>
                                <div class="col-md-12">
                                    <label class="labels">DOB</label>
                                    <input type="text" name="birthdate"
                                        class="form-control birthdate"
                                        t-att-value="employee.birthday" readonly="1" />
                                </div>
                                <div class="col-md-12">
                                    <label class="labels">Marital Status</label>
                                    <select id="marital_status" class="form-select"
                                        name="marital_status" aria-label="Default select example"
                                        disabled="1">
                                        <t
                                            t-foreach="['single', 'married', 'cohabitant', 'widower', 'divorced']"
                                            t-as="marriage_option">
                                            <option t-att-value="marriage_option"
                                                t-att-selected="marriage_option == employee.marital">
                                                <t t-esc="marriage_option.capitalize()" />
                                            </option>
                                        </t>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="p-3 py-5">
                            <div
                                class="d-flex justify-content-between align-items-center experience">
                                <span>Others:</span>
                            </div>
                            <br />
                            <div class="col-md-12">
                                <label class="labels">Degree Of Study</label>
                                <select class="form-select" id="degree_of_study"
                                    name="degree_of_study" aria-label="Default select example"
                                    disabled="1">
                                    <t
                                        t-foreach="['graduate', 'bachelor', 'master', 'doctor', 'other']"
                                        t-as="option">
                                        <option t-att-value="option"
                                            t-att-selected="option == employee.certificate">
                                            <t t-esc="option.capitalize()" />
                                        </option>
                                    </t>
                                </select>
                            </div>
                            <br />
                            <div class="col-md-12">
                                <label class="labels">Field Of Study</label>
                                <input type="text" class="form-control study_field"
                                    name="study_field" t-att-value="employee.study_field"
                                    readonly="1" />
                            </div>
                            <div class="col-md-12">
                                <label class="labels">School Of Study</label>
                                <input type="text" class="form-control study_school"
                                    name="study_school" t-att-value="employee.study_school"
                                    readonly="1" />
                            </div>
                            <div class="col-md-12">
                                <label class="labels">Bank Account</label>
                                <input type="text" class="form-control bank_detail"
                                    name="bank_detail" t-att-value="employee.bank_account_id.id"
                                    readonly="1" />
                            </div>
                            <div class="col-md-12">
                                <label class="labels">Passport No.</label>
                                <input name="passport_no" type="text"
                                    class="form-control passport_no"
                                    t-att-value="employee.passport_id" readonly="1" />
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mt-5 text-center">
                    <button class="btn btn-secondary profile-button" type="submit">Edit Profile</button>
                </div>
            </div>

        </form>
    </template>

    <!-- this below is for the overtime template -->
    <template id="over_time_request_form_template">
        <link
            href="https://nepalidatepicker.sajanmaharjan.com.np/nepali.datepicker/css/nepali.datepicker.v4.0.1.min.css"
            rel="stylesheet" type="text/css" />

        <div class="formbold-main-wrapper">
            <div class="formbold-form-wrapper" style="max-width:100%">
                <form action="/submit/ot_request_form" method="POST">
                    <div class="formbold-mb-5">
                        <label for="name" class="formbold-form-label"> Employee </label>
                        <input
                            type="text"
                            name="name"
                            id="name"
                            t-att-value="request.env.user.name"
                            class="formbold-form-input"
                            readonly="true"
                        />
                    </div>
                    <div class="flex flex-wrap formbold--mx-3">
                        <div class="w-full sm:w-half formbold-px-3">
                            <div class="formbold-mb-5">
                                <label for="name" class="formbold-form-label"> Department </label>
                                <input
                                    type="text"
                                    name="department"
                                    id="department"
                                    t-att-value="department"
                                    class="formbold-form-input"
                                    readonly="true"
                                />
                            </div>
                        </div>
                        <div class="w-full sm:w-half formbold-px-3">
                            <div class="formbold-mb-5">
                                <label for="name" class="formbold-form-label"> Involved Project </label>
                                <input
                                    type="text"
                                    name="project_involved"
                                    id="project_involved"
                                    placeholder="Project"
                                    class="formbold-form-input"
                                />
                            </div>
                        </div>
                    </div>
                    <div class="flex flex-wrap formbold--mx-3">
                        <div class="w-full sm:w-half formbold-px-3">
                            <div class="formbold-mb-5 w-full">
                                <label for="date" class="formbold-form-label"> Date(B.S) </label>
                                <input
                                    required="1"
                                    name="date_in_bs"
                                    id="date_in_bs"
                                    class="formbold-form-input"
                                />
                            </div>
                        </div>
                        <div class="w-full sm:w-half formbold-px-3">
                            <div class="formbold-mb-5">
                                <label for="time" class="formbold-form-label"> Start Time </label>
                                <input
                                    required="1"
                                    type="time"
                                    name="start_time"
                                    id="start_time"
                                    class="formbold-form-input"
                                />
                            </div>
                        </div>
                    </div>
                    <div class="flex flex-wrap formbold--mx-3">
                        <div class="w-full sm:w-half formbold-px-3">
                            <div class="formbold-mb-5 w-full">
                                <label for="date" class="formbold-form-label"> Date(A.D) </label>
                                <input
                                    required="1"
                                    type="date"
                                    name="date"
                                    id="date"
                                    class="formbold-form-input"
                                />
                            </div>
                        </div>
                        <div class="w-full sm:w-half formbold-px-3">
                            <div class="formbold-mb-5">
                                <label for="time" class="formbold-form-label"> End Time </label>
                                <input
                                    required="1"
                                    type="time"
                                    name="time"
                                    id="time"
                                    class="formbold-form-input"
                                />
                            </div>
                        </div>
                    </div>
                    <div class="formbold-mb-5">
                        <label for="reason" class="formbold-form-label"> Reason for Overtime </label>
                        <textarea
                            required="1"
                            name="reason"
                            id="reason"
                            placeholder="Enter the reason for overtime"
                            class="formbold-form-input"
                        ></textarea>
                    </div>

                    <div>
                        <button class="formbold-btn">Request Overtime</button>
                    </div>
                </form>
            </div>
        </div>
        <style>
            * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            }
            body {
            font-family: "Inter", Arial, Helvetica, sans-serif;
            }
            .formbold-mb-5 {
            margin-bottom: 20px;
            }
            .formbold-pt-3 {
            padding-top: 12px;
            }
            .formbold-main-wrapper {
            display: flex;
            align-items: center;
            justify-content: center;
            }

            .formbold-form-wrapper {
            margin: 0 auto;
            max-width: 1500px;
            width: 100%;
            background: white;
            }
            .formbold-form-label {
            display: block;
            font-weight: 500;
            font-size: 16px;
            padding:10px;
            color: #07074d;
            margin-bottom: 12px;
            }
            .formbold-form-label-2 {
            font-weight: 600;
            font-size: 20px;
            margin-bottom: 20px;
            }

            .formbold-form-input {
            width: 100%;
            padding: 15px 24px;
            border-radius: 6px;
            border: 1px solid #e0e0e0;
            background: white;
            font-weight: 500;
            font-size: 16px;
            color: #6b7280;
            outline: none;
            resize: none;
            }
            .formbold-form-input:focus {
            border-color: #6a64f1;
            box-shadow: 0px 3px 8px rgba(0, 0, 0, 0.05);
            }

            .formbold-btn {
            text-align: center;
            font-size: 16px;
            border-radius: 6px;
            padding: 14px 32px;
            border: none;
            font-weight: 600;
            background-color: #28a745;
            color: white;
            width: 100%;
            cursor: pointer;
            }
            .formbold-btn:hover {
            box-shadow: 0px 3px 8px rgba(0, 0, 0, 0.05);
            }

            .formbold--mx-3 {
            margin-left: -12px;
            margin-right: -12px;
            }
            .formbold-px-3 {
            padding-left: 12px;
            padding-right: 12px;
            }
            .flex {
            display: flex;
            }
            .flex-wrap {
            flex-wrap: wrap;
            }
            .w-full {
            width: 100%;
            }
            @media (min-width: 540px) {
            .sm\:w-half {
            width: 50%;
            }
            }
        </style>
        <script
            src="https://nepalidatepicker.sajanmaharjan.com.np/nepali.datepicker/js/nepali.datepicker.v4.0.1.min.js"
            type="text/javascript"></script>
        <script>
            document.addEventListener("DOMContentLoaded",function(){
            var bsDate= NepaliFunctions.GetCurrentBsDate()
            console.log(bsDate)
            var parsed=NepaliFunctions.ConvertDateFormat(bsDate, "YYYY-MM-DD")
            var date=document.getElementById("date")
            date.min=new Date().toISOString().split('T')[0];
            var date_in_bs=document.getElementById("date_in_bs")
            date.addEventListener("input", updateStartInAd);
            date_in_bs.nepaliDatePicker({
            disableBefore: parsed,
            onChange: function () {
            AdConvert();
            },
            });

            function AdConvert(){
            var
            parsed_nepali_date=NepaliFunctions.ConvertToDateObject(date_in_bs.value,"YYYY-MM-DD")
            var nd=NepaliFunctions.BS2AD(parsed_nepali_date)
            date.value=NepaliFunctions.ConvertDateFormat(nd, "YYYY-MM-DD")
            }
            function updateStartInAd(){
            if(date.value){
            var parsed_english_date=NepaliFunctions.ConvertToDateObject(date.value, "YYYY-MM-DD")
            var half_d=NepaliFunctions.AD2BS(parsed_english_date)
            date_in_bs.value=NepaliFunctions.ConvertDateFormat(half_d, "YYYY-MM-DD")
            }
            }
            })
        </script>
    </template>

    <!-- this below is for leave history template -->
    <template id="leave_history_template">
        <div>
        <div class="tab-content table-responsive" id="nav-tabContent" style="height:90vh;overflow:auto;">
            <table class="table table-bordered table-hover ">
                <thead style="color:black;">
                    <tr>
                        <th>#</th>
                        <th>Request Date</th>
                        <th>Leave Type</th>
                        <th>Start Date</th>
                        <th>End Date</th>
                        <th>Status</th>
                        <th>Allowed Duration(Days)</th>
                    </tr>
                </thead>
                <tbody>
                    <t t-if="leave_list">

                        <t t-foreach="leave_list" t-as="leave_data">
                            <!-- Example row, you should replace this with data from your
                                backend -->
                            <tr>
                                <td>
                                    <t t-out="leave_data['s_no']" />
                                </td>
                                <td>
                                    <t t-out="leave_data['request_date']" />
                                </td>
                                <td>
                                    <t t-out="leave_data['leave_type']" />
                                </td>
                                <td>
                                    <t t-out="leave_data['start_date']" />
                                </td>
                                <td>
                                    <t t-out="leave_data['end_date']" />
                                </td>
                                <td>
                                    <t t-out="leave_data['status']" />
                                </td>
                                <td>
                                    <t t-out="leave_data['allowed_duration']" />
                                </td>
                            </tr>
                        </t>
                    </t>
                    <t t-else='not leave_list'>
                        <tr>
                            <td colspan="7">No matching records found!!!</td>
                        </tr>
                    </t>
                    <!-- Add more rows as needed -->
                </tbody>
            </table>
        </div>
                            <!--                 Below is for pagination controls-->
                <t t-if="page_count>0">

                    <div class="pagination"
                        style="padding:5px;justify-content:center;">
                        <div class="right">
                            <nav aria-label="Page Navigation">
                                <ul class="pagination">
                                    <li class="page-item ">
                                        <a class="page-link" href="#" tabindex="-1" onclick="loadPreviousPage()">Previous</a>
                                    </li>
                                    <t t-foreach="range(1,page_count+1)" t-as="page" t-attf-key="page" >
                                            <a class="page-link" href="#" >
                                                <span id="span" t-out="page" type="btn" onclick="thisPage(this)"/>
                                            </a>
                                    </t>
                                    <li class="page-item">
                                        <a class="page-link" href="#" type="btn" onclick="loadNextPage()">Next</a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </t>
      <script type="text/javascript">
        window.onload=function(){
        var
        sidebarToggle=document.querySelector("#sidebar-toggle");sidebarToggle.addEventListener("click",function(){document.querySelector("#sidebar").classList.toggle("collapsed")});
        }
          var current_page=1
          var total_page=<t t-esc="page_count"/>
          total_page=parseInt(total_page,10)
           function loadNextPage() {

          event.preventDefault()
          current_page=parseInt(current_page,10)
          if(total_page>current_page){
        var nextUrl = '/leave_history_page?page=' + (current_page+1);
        $.get(nextUrl, function(data) {
            $('.table tbody').html($(data).find('.table tbody').html());
          current_page=current_page+1
        });
          }
        }
           function loadPreviousPage() {
          current_page=parseInt(current_page,10)
          event.preventDefault()
          if(current_page>1){
        var nextUrl = '/leave_history_page?page=' + (current_page-1);
        $.get(nextUrl, function(data) {
            $('.table tbody').html($(data).find('.table tbody').html());
          current_page=current_page-1
        });
          }
        }
          function thisPage(data) {
          event.preventDefault()
          page=data.innerHTML
          var nextUrl = '/leave_history_page?page=' + (page);
        $.get(nextUrl, function(data) {
            $('.table tbody').html($(data).find('.table tbody').html());
          current_page=page
        });
        }
      </script>
        </div>
    </template>

    <!-- this below is for the check in checkout template  -->
    <template id="checkin_checkout_template">
        <div class="blur-background">
            <div class="container">
                <div class="attendance-container"
                    style="display:flex;align-items:center;justify-content:center;flex-direction:column">
                    <div class="profile-container">
                        <img t-attf-src="data:image/*;base64,{{id.image_1920}}"
                            alt="/employee_dashboard/static/description/images.jpeg" class="profile-image" />
                    </div>
                    <h2>
                        <t t-out="request.env.user.name" />
                    </h2>
                    <p>Welcome !!!</p>
                    <div class="check-in-time"></div>
                    <div class="check-out-time"></div>
                    <input id="cameraInput" type="file" name="proof"
                        style="padding: 10px;
                                margin: 10px 0;
                                border: 1px solid #ccc;
                                border-radius: 5px;
                                display: block;
                                width: 100%;
                                box-sizing: border-box;
                                font-size: 16px;
                                " />
                    <span id="validationMessage" style="color: red;display:none;"></span>
                    <button id="checkButton" class="btn check-button check-in"
                        style="width:270px;height:74px;border:none;border-radius:8px;font-size:25px"
                        t-att-data-user="id.id">Check-IN <i class="fa fa-angle-double-right fa-lg"
                            aria-hidden="true"></i>
                    </button>
                </div>
            </div>
        </div>
    </template>

    <template id="checkin_checkout_in_desktop">
        <t t-call="website.layout">
            <div class="oe_structure">
                <div class="container text-center">
                    <div class="row mt16 mb16">
                        <div class="col-xs-12" style="color:red;">
                            <h2>Sorry !!!</h2>
                            <p class="o_mt32" style="font-size:26px">Check-in and Check-out is
                                enabled only on mobile devices</p>
                        </div>
                    </div>
                </div>
            </div>
        </t>
    </template>

    <!-- this is for the overtime history template  -->
    <template id="ot_history_template">
        <div>
        <div class="tab-content table-responsive" style="height:90vh;overflow:auto;" id="nav-tabContent">
            <table class="table table-bordered table-hover " style="background-color:#f4f4f4">
                <thead style="color:black">
                    <tr>
                        <th>#</th>
                        <th>Department</th>
                        <th>Involved Project</th>
                        <th>OT Requested Date</th>
                        <th>OT Requested Duration</th>
                        <th>Reason</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <t t-foreach="ot_list" t-as="ot_data">
                        <tr>
                            <td>
                                <t t-out="ot_data['s_no']" />
                            </td>

                            <td>
                                <t t-out="ot_data['emp_department']" />
                            </td>
                            <td>
                                <t t-out="ot_data['emp_involved_project']" />
                            </td>
                            <td>
                                <t t-out="ot_data['overtime_request_date']" />
                            </td>
                            <td>
                                <t t-out="ot_data['ot_requested_duration']" />
                            </td>
                            <td>
                                <t t-out="ot_data['ot_reason']" />
                            </td>
                            <td>
                                <t t-out="ot_data['status']" />
                            </td>
                        </tr>
                    </t>
                    <t t-if="not ot_list">
                        <tr>
                            <td colspan="7">No matching records found!!!</td>
                        </tr>
                    </t>
                    <!-- Add more rows as needed -->
                </tbody>
            </table>
        </div>
                <t t-if="page_count>0">

                    <div class="pagination"
                        style="padding:5px;justify-content:center;">
                        <div class="right">
                            <nav aria-label="Page Navigation">
                                <ul class="pagination">
                                    <li class="page-item ">
                                        <a class="page-link" href="#" tabindex="-1" onclick="loadPreviousPage()">Previous</a>
                                    </li>
                                    <t t-foreach="range(1,page_count+1)" t-as="page" t-attf-key="page" >
                                            <a class="page-link" href="#" >
                                                <span id="span" t-out="page" type="btn" onclick="thisPage(this)"/>
                                            </a>
                                    </t>
                                    <li class="page-item">
                                        <a class="page-link" href="#" type="btn" onclick="loadNextPage()">Next</a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </t>
             <script type="text/javascript">
        window.onload=function(){
        var
        sidebarToggle=document.querySelector("#sidebar-toggle");sidebarToggle.addEventListener("click",function(){document.querySelector("#sidebar").classList.toggle("collapsed")});
        }
          var current_page=1
          var total_page=<t t-esc="page_count"/>
          total_page=parseInt(total_page,10)
           function loadNextPage() {

          event.preventDefault()
          current_page=parseInt(current_page,10)
          if(total_page>current_page){
        var nextUrl = '/ot_history_page?page=' + (current_page+1);
        $.get(nextUrl, function(data) {
            $('.table tbody').html($(data).find('.table tbody').html());
          current_page=current_page+1
        });
          }
        }
           function loadPreviousPage() {
          current_page=parseInt(current_page,10)
          event.preventDefault()
          if(current_page>1){
        var nextUrl = '/ot_history_page?page=' + (current_page-1);
        $.get(nextUrl, function(data) {
            $('.table tbody').html($(data).find('.table tbody').html());
          current_page=current_page-1
        });
          }
        }
          function thisPage(data) {
          event.preventDefault()
          page=data.innerHTML
          var nextUrl = '/ot_history_page?page=' + (page);
        $.get(nextUrl, function(data) {
            $('.table tbody').html($(data).find('.table tbody').html());
          current_page=page
        });
        }
      </script>
        </div>

    </template>


    <!-- this below is for the attendance history template  -->

    <template id="attendance_history_template">
        <html lang="en">
            <head>
            </head>
            <body>
                <div class="container" style="display:flex;">
                    <div class="right table-responsive" style="flex:8;">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">Attendance Date</th>
                                    <th scope="col">Check In</th>
                                    <th scope="col">Check Out</th>
                                    <th scope="col">Work Hours</th>
                                </tr>
                            </thead>
                            <tbody>
                                <t t-foreach="attendances"
                                    t-as="attendance">
                                    <tr>
                                        <th scope="row">
                                            <t t-out="attendance['id']" />
                                        </th>
                                        <td>
                                            <t t-out="attendance['record_date']" />
                                        </td>
                                        <td>
                                            <t t-out="attendance['check_in']" />
                                        </td>
                                        <td>
                                            <t t-out="attendance['check_out']" />
                                        </td>
                                        <td>
                                            <t t-out="attendance['worked_hours']" />
                                        </td>
                                    </tr>
                                </t>
                            </tbody>
                        </table>

                    </div>
                </div>

                <!-- Below is for pagination controls -->
                <t t-if="page_count > 0">
                    <div class="pagination"
                        style="padding:5px;justify-content:center;">
                        <div class="right">
                            <nav aria-label="Page Navigation">
                                <ul class="pagination">
                                    <li class="page-item ">
                                        <a class="page-link" href="#" onclick="loadPreviousPage()">Previous</a>
                                    </li>
                                    <t t-foreach="range(1,page_count+1)" t-as="page" t-attf-key="page">
                                            <a class="page-link" href="#">
                                               <span id="span" t-out="page" type="btn" onclick="thisPage(this)"/>
                                            </a>
                                    </t>
                                    <li class="page-item">
                                        <a class="page-link" href="#" type="btn" onclick="loadNextPage()">Next</a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </t>
            </body>

      <script type="text/javascript">
        window.onload=function(){
        var
        sidebarToggle=document.querySelector("#sidebar-toggle");sidebarToggle.addEventListener("click",function(){document.querySelector("#sidebar").classList.toggle("collapsed")});
        }
          var current_page=1
          var total_page=<t t-esc="page_count"/>
          total_page=parseInt(total_page,10)
           function loadNextPage() {

          event.preventDefault()
          current_page=parseInt(current_page,10)
          if(total_page>current_page){
        var nextUrl = '/attendance_history?page=' + (current_page+1);
        $.get(nextUrl, function(data) {
            $('.table tbody').html($(data).find('.table tbody').html());
          current_page=current_page+1
        });
          }
        }
           function loadPreviousPage() {
          current_page=parseInt(current_page,10)
          event.preventDefault()
          if(current_page>1){
        var nextUrl = '/attendance_history?page=' + (current_page-1);
        $.get(nextUrl, function(data) {
            $('.table tbody').html($(data).find('.table tbody').html());
          current_page=current_page-1
        });
          }
        }
          function thisPage(data) {
          event.preventDefault()
          page=data.innerHTML
          var nextUrl = '/attendance_history?page=' + (page);
        $.get(nextUrl, function(data) {
            $('.table tbody').html($(data).find('.table tbody').html());
          current_page=page
        });
        }
      </script>
        </html>
        <!-- </t> -->

    </template>


</odoo>